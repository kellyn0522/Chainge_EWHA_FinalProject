{"ast":null,"code":"var _s = $RefreshSig$();\nimport { useEffect, useState } from \"react\";\nimport { baseUrl, getRequest } from \"../utils/services\";\nexport const useFetchRecipientUser = (chat, user) => {\n  _s();\n  var _chat$members;\n  const [recipientUser, setRecipientUser] = useState(null);\n  const [error, setError] = useState(null);\n\n  //console.log('user in useFetchRecipientUser:', user);\n\n  const recipientId = chat === null || chat === void 0 ? void 0 : (_chat$members = chat.members) === null || _chat$members === void 0 ? void 0 : _chat$members.find(id => id !== (user === null || user === void 0 ? void 0 : user._id));\n\n  //console.log('chat in useFetchRecipientUser:', chat); \n  // chat 안에 값 O \n\n  useEffect(() => {\n    const getUser = async () => {\n      //console.log('Recipient ID:', recipientId);\n\n      if (!recipientId) {\n        setRecipientUser(null);\n        return;\n      }\n      const response = await getRequest(`${baseUrl}/users/find/${recipientId}`);\n\n      //console.log(\"Apt Url \", `${baseUrl}/users/find/${recipientId}`);\n\n      //console.log('API response for recipient user:', response);\n      //console.log('Recipient User Response:', response);\n\n      if (response.error) {\n        //console.log('Error fetching recipient user:', response.error);\n        return setError(response);\n      }\n      setRecipientUser(response);\n\n      //console.log('Recipient user set in state:', response);\n    };\n    getUser();\n  }, [recipientId, chat, user]);\n  return {\n    recipientUser\n  };\n};\n_s(useFetchRecipientUser, \"vm+I3RfURh/6FfIy3iNgDfeKURw=\");","map":{"version":3,"names":["useEffect","useState","baseUrl","getRequest","useFetchRecipientUser","chat","user","_s","_chat$members","recipientUser","setRecipientUser","error","setError","recipientId","members","find","id","_id","getUser","response"],"sources":["C:/Users/이가은/OneDrive/문서/GitHub/FinalProject/moon2/src/hooks/useFetchRecipient.js"],"sourcesContent":["import {useEffect, useState} from \"react\";\r\nimport { baseUrl, getRequest } from \"../utils/services\";\r\n\r\n\r\nexport const useFetchRecipientUser =(chat, user) =>{\r\n    const [recipientUser, setRecipientUser] = useState(null);\r\n    const [error, setError] = useState(null);\r\n\r\n    //console.log('user in useFetchRecipientUser:', user);\r\n\r\n    const recipientId = chat?.members?.find((id) => id !== user?._id);\r\n     \r\n    //console.log('chat in useFetchRecipientUser:', chat); \r\n    // chat 안에 값 O \r\n\r\n    useEffect(() =>{\r\n        const getUser = async() =>{\r\n            \r\n            \r\n            //console.log('Recipient ID:', recipientId);\r\n           \r\n              \r\n            if(!recipientId) {\r\n                setRecipientUser(null);\r\n                return ;\r\n            }\r\n\r\n            const response = await getRequest(`${baseUrl}/users/find/${recipientId}`);\r\n\r\n            //console.log(\"Apt Url \", `${baseUrl}/users/find/${recipientId}`);\r\n            \r\n            //console.log('API response for recipient user:', response);\r\n            //console.log('Recipient User Response:', response);\r\n            \r\n            \r\n            if(response.error){\r\n                \r\n                //console.log('Error fetching recipient user:', response.error);\r\n                return setError(response);\r\n            }\r\n            setRecipientUser(response); \r\n\r\n\r\n            //console.log('Recipient user set in state:', response);\r\n        };\r\n\r\n        getUser();  \r\n    },[recipientId, chat, user]);\r\n\r\n    return {recipientUser};\r\n\r\n};"],"mappings":";AAAA,SAAQA,SAAS,EAAEC,QAAQ,QAAO,OAAO;AACzC,SAASC,OAAO,EAAEC,UAAU,QAAQ,mBAAmB;AAGvD,OAAO,MAAMC,qBAAqB,GAAEA,CAACC,IAAI,EAAEC,IAAI,KAAI;EAAAC,EAAA;EAAA,IAAAC,aAAA;EAC/C,MAAM,CAACC,aAAa,EAAEC,gBAAgB,CAAC,GAAGT,QAAQ,CAAC,IAAI,CAAC;EACxD,MAAM,CAACU,KAAK,EAAEC,QAAQ,CAAC,GAAGX,QAAQ,CAAC,IAAI,CAAC;;EAExC;;EAEA,MAAMY,WAAW,GAAGR,IAAI,aAAJA,IAAI,wBAAAG,aAAA,GAAJH,IAAI,CAAES,OAAO,cAAAN,aAAA,uBAAbA,aAAA,CAAeO,IAAI,CAAEC,EAAE,IAAKA,EAAE,MAAKV,IAAI,aAAJA,IAAI,uBAAJA,IAAI,CAAEW,GAAG,EAAC;;EAEjE;EACA;;EAEAjB,SAAS,CAAC,MAAK;IACX,MAAMkB,OAAO,GAAG,MAAAA,CAAA,KAAU;MAGtB;;MAGA,IAAG,CAACL,WAAW,EAAE;QACbH,gBAAgB,CAAC,IAAI,CAAC;QACtB;MACJ;MAEA,MAAMS,QAAQ,GAAG,MAAMhB,UAAU,CAAC,GAAGD,OAAO,eAAeW,WAAW,EAAE,CAAC;;MAEzE;;MAEA;MACA;;MAGA,IAAGM,QAAQ,CAACR,KAAK,EAAC;QAEd;QACA,OAAOC,QAAQ,CAACO,QAAQ,CAAC;MAC7B;MACAT,gBAAgB,CAACS,QAAQ,CAAC;;MAG1B;IACJ,CAAC;IAEDD,OAAO,CAAC,CAAC;EACb,CAAC,EAAC,CAACL,WAAW,EAAER,IAAI,EAAEC,IAAI,CAAC,CAAC;EAE5B,OAAO;IAACG;EAAa,CAAC;AAE1B,CAAC;AAACF,EAAA,CA/CWH,qBAAqB","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}